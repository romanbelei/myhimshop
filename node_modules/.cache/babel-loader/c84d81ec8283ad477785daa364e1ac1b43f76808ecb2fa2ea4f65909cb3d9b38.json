{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{updateUser}from\"../../features/user/userSlice\";import styles from\"../../styles/Profile.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const dispatch=useDispatch();const{currentUser}=useSelector(_ref=>{let{user}=_ref;return user;});const[values,setValues]=useState({name:\"\",email:\"\",password:\"\",avatar:\"\"});useEffect(()=>{if(!currentUser)return;setValues(currentUser);},[currentUser]);const handleChange=_ref2=>{let{target:{value,name}}=_ref2;setValues({...values,[name]:value});};const handleSubmit=e=>{e.preventDefault();const isNotEmpty=Object.values(values).every(val=>val);if(!isNotEmpty)return;dispatch(updateUser(values));};return/*#__PURE__*/_jsx(\"section\",{className:styles.profile,children:!currentUser?/*#__PURE__*/_jsx(\"span\",{children:\"You need to log in\"}):/*#__PURE__*/_jsxs(\"form\",{className:styles.form,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.group,children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Your email\",name:\"email\",value:values.email,autoComplete:\"off\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:styles.group,children:/*#__PURE__*/_jsx(\"input\",{type:\"name\",placeholder:\"Your name\",name:\"name\",value:values.name,autoComplete:\"off\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:styles.group,children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Your password\",name:\"password\",value:values.password,autoComplete:\"off\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:styles.group,children:/*#__PURE__*/_jsx(\"input\",{type:\"avatar\",placeholder:\"Your avatar\",name:\"avatar\",value:values.avatar,autoComplete:\"off\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:styles.submit,children:\"Update\"})]})});};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","updateUser","styles","jsx","_jsx","jsxs","_jsxs","Profile","dispatch","currentUser","_ref","user","values","setValues","name","email","password","avatar","handleChange","_ref2","target","value","handleSubmit","e","preventDefault","isNotEmpty","Object","every","val","className","profile","children","form","onSubmit","group","type","placeholder","autoComplete","onChange","required","submit"],"sources":["D:/React/myhimshop/src/components/Profile/Profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { updateUser } from \"../../features/user/userSlice\";\n\nimport styles from \"../../styles/Profile.module.css\";\n\nconst Profile = () => {\n  const dispatch = useDispatch();\n  const { currentUser } = useSelector(({ user }) => user);\n\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    avatar: \"\",\n  });\n\n  useEffect(() => {\n    if (!currentUser) return;\n\n    setValues(currentUser);\n  }, [currentUser]);\n\n  const handleChange = ({ target: { value, name } }) => {\n    setValues({ ...values, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const isNotEmpty = Object.values(values).every((val) => val);\n\n    if (!isNotEmpty) return;\n\n    dispatch(updateUser(values));\n  };\n\n  return (\n    <section className={styles.profile}>\n      {!currentUser ? (\n        <span>You need to log in</span>\n      ) : (\n        <form className={styles.form} onSubmit={handleSubmit}>\n          <div className={styles.group}>\n            <input\n              type=\"email\"\n              placeholder=\"Your email\"\n              name=\"email\"\n              value={values.email}\n              autoComplete=\"off\"\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className={styles.group}>\n            <input\n              type=\"name\"\n              placeholder=\"Your name\"\n              name=\"name\"\n              value={values.name}\n              autoComplete=\"off\"\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className={styles.group}>\n            <input\n              type=\"password\"\n              placeholder=\"Your password\"\n              name=\"password\"\n              value={values.password}\n              autoComplete=\"off\"\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className={styles.group}>\n            <input\n              type=\"avatar\"\n              placeholder=\"Your avatar\"\n              name=\"avatar\"\n              value={values.avatar}\n              autoComplete=\"off\"\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <button type=\"submit\" className={styles.submit}>\n            Update\n          </button>\n        </form>\n      )}\n    </section>\n  );\n};\n\nexport default Profile;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD,OAASC,UAAU,KAAQ,+BAA+B,CAE1D,MAAO,CAAAC,MAAM,KAAM,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEU,WAAY,CAAC,CAAGT,WAAW,CAACU,IAAA,MAAC,CAAEC,IAAK,CAAC,CAAAD,IAAA,OAAK,CAAAC,IAAI,GAAC,CAEvD,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGf,QAAQ,CAAC,CACnCgB,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EAAE,CACZC,MAAM,CAAE,EACV,CAAC,CAAC,CAEFpB,SAAS,CAAC,IAAM,CACd,GAAI,CAACY,WAAW,CAAE,OAElBI,SAAS,CAACJ,WAAW,CAAC,CACxB,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAS,YAAY,CAAGC,KAAA,EAAiC,IAAhC,CAAEC,MAAM,CAAE,CAAEC,KAAK,CAAEP,IAAK,CAAE,CAAC,CAAAK,KAAA,CAC/CN,SAAS,CAAC,CAAE,GAAGD,MAAM,CAAE,CAACE,IAAI,EAAGO,KAAM,CAAC,CAAC,CACzC,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,KAAM,CAAAC,UAAU,CAAGC,MAAM,CAACd,MAAM,CAACA,MAAM,CAAC,CAACe,KAAK,CAAEC,GAAG,EAAKA,GAAG,CAAC,CAE5D,GAAI,CAACH,UAAU,CAAE,OAEjBjB,QAAQ,CAACP,UAAU,CAACW,MAAM,CAAC,CAAC,CAC9B,CAAC,CAED,mBACER,IAAA,YAASyB,SAAS,CAAE3B,MAAM,CAAC4B,OAAQ,CAAAC,QAAA,CAChC,CAACtB,WAAW,cACXL,IAAA,SAAA2B,QAAA,CAAM,oBAAkB,CAAM,CAAC,cAE/BzB,KAAA,SAAMuB,SAAS,CAAE3B,MAAM,CAAC8B,IAAK,CAACC,QAAQ,CAAEX,YAAa,CAAAS,QAAA,eACnD3B,IAAA,QAAKyB,SAAS,CAAE3B,MAAM,CAACgC,KAAM,CAAAH,QAAA,cAC3B3B,IAAA,UACE+B,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,YAAY,CACxBtB,IAAI,CAAC,OAAO,CACZO,KAAK,CAAET,MAAM,CAACG,KAAM,CACpBsB,YAAY,CAAC,KAAK,CAClBC,QAAQ,CAAEpB,YAAa,CACvBqB,QAAQ,MACT,CAAC,CACC,CAAC,cAENnC,IAAA,QAAKyB,SAAS,CAAE3B,MAAM,CAACgC,KAAM,CAAAH,QAAA,cAC3B3B,IAAA,UACE+B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,WAAW,CACvBtB,IAAI,CAAC,MAAM,CACXO,KAAK,CAAET,MAAM,CAACE,IAAK,CACnBuB,YAAY,CAAC,KAAK,CAClBC,QAAQ,CAAEpB,YAAa,CACvBqB,QAAQ,MACT,CAAC,CACC,CAAC,cAENnC,IAAA,QAAKyB,SAAS,CAAE3B,MAAM,CAACgC,KAAM,CAAAH,QAAA,cAC3B3B,IAAA,UACE+B,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,eAAe,CAC3BtB,IAAI,CAAC,UAAU,CACfO,KAAK,CAAET,MAAM,CAACI,QAAS,CACvBqB,YAAY,CAAC,KAAK,CAClBC,QAAQ,CAAEpB,YAAa,CACvBqB,QAAQ,MACT,CAAC,CACC,CAAC,cAENnC,IAAA,QAAKyB,SAAS,CAAE3B,MAAM,CAACgC,KAAM,CAAAH,QAAA,cAC3B3B,IAAA,UACE+B,IAAI,CAAC,QAAQ,CACbC,WAAW,CAAC,aAAa,CACzBtB,IAAI,CAAC,QAAQ,CACbO,KAAK,CAAET,MAAM,CAACK,MAAO,CACrBoB,YAAY,CAAC,KAAK,CAClBC,QAAQ,CAAEpB,YAAa,CACvBqB,QAAQ,MACT,CAAC,CACC,CAAC,cAENnC,IAAA,WAAQ+B,IAAI,CAAC,QAAQ,CAACN,SAAS,CAAE3B,MAAM,CAACsC,MAAO,CAAAT,QAAA,CAAC,QAEhD,CAAQ,CAAC,EACL,CACP,CACM,CAAC,CAEd,CAAC,CAED,cAAe,CAAAxB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}